
{% comment %}
    This snippet is auto generated by ReStock and will be overwritten. Don't edit it manually.
{% endcomment %}

<script id="ReStock-config">
    var _ReStockConfig = window._ReStockConfig || {};
    {{  }}
    {%- if product -%}
        {%- assign preorder_variant_ids = product.variants | where: 'inventory_policy', 'continue' | where: 'inventory_quantity', 0 | map: 'id' -%}
        _ReStockConfig.product = {{ product | json }};
        {{  }}
        _ReStockConfig.preorder_variant_ids = {{ preorder_variant_ids | json }}
        {{  }}
    {%- elsif collection.products -%}
        _ReStockConfig.products_count = {{ shop.products_count }}
        _ReStockConfig.preorder_variant_ids=[];
        {% paginate collection.products by 200 %}
            _ReStockConfig.collection_page_products={{ collection.products | json }};
        {% endpaginate %}
        {{  }}
        {%- for product in collection.products -%}
            {%- assign preorder_variants = product.variants | where: 'inventory_policy', 'continue' | where: 'inventory_quantity', 0 | map: 'id' -%}
            {%- unless preorder_variants == empty -%}
                _ReStockConfig.preorder_variant_ids.push(...{{ preorder_variants | json }})
                {{  }}
            {%- endunless -%}
        {%- endfor -%}
    {%- endif -%}
  </script>
<script id="ReStock-sdk" defer src="https://static.shopgram.io/restock-alerts-sdk.js"></script>
